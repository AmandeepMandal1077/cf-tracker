generator client {
  provider = "prisma-client"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id               String          @id
  email            String          @unique
  userHandle       String
  isSubscribed     Boolean         @default(false)
  subscriptionEnds DateTime?
  userQuestions    UserQuestions[]
}

model UserQuestions {
  userId     String
  verdict    String
  bookmarked Boolean      @default(false)
  createdAt  DateTime     @default(now())
  questionId String
  question   QuestionBank @relation(fields: [questionId], references: [id])
  user       User         @relation(fields: [userId], references: [id])

  @@id([userId, questionId])
}

model QuestionBank {
  id               String          @id
  platform         String
  name             String
  link             String          @unique
  rating           Int?
  tags             String[]        @default([])
  problemStatement String?
  userQuestions    UserQuestions[]
}
